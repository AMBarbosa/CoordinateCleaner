<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Flag Geographic Outliers in Species Distributions — cc_outl • CoordinateCleaner</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Flag Geographic Outliers in Species Distributions — cc_outl" />

<meta property="og:description" content="Flags records that are outliers in geographic space according to the method
defined via the method argument. Geographic outliers often represent
erroneous coordinates, for example due to data entry errors, imprecise
geo-references, individuals in horticulture/captivity." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CoordinateCleaner</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Cleaning_GBIF_data_with_CoordinateCleaner.html">Tutorial - Cleaning GBIF data for the use in biogeography</a>
    </li>
    <li>
      <a href="../articles/Cleaning_PBDB_fossils_with_CoordinateCleaner.html">Tutorial - Cleaning fossil data for the use in biogeography and palaeontology</a>
    </li>
    <li>
      <a href="../articles/comparison_other_software.html">Comparison of CoordinateCleaner to other tools</a>
    </li>
    <li>
      <a href="../articles/qs_clean_coordinates.html">Quick start - Problematic records</a>
    </li>
    <li>
      <a href="../articles/qs_clean_dataset.html">Quick start - Problematic datasets</a>
    </li>
    <li>
      <a href="../articles/qs_clean_fossils.html">Quick start - Problematic fossils</a>
    </li>
    <li>
      <a href="../articles/qs_how_to_run.html">Quick start - How to run CoordinateCleaner</a>
    </li>
    <li>
      <a href="../articles/t_geographic_outliers.html">Identifying geographic outliers</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Flag Geographic Outliers in Species Distributions</h1>
    
    <div class="hidden name"><code>cc_outl.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Flags records that are outliers in geographic space according to the method
defined via the <code>method</code> argument. Geographic outliers often represent
erroneous coordinates, for example due to data entry errors, imprecise
geo-references, individuals in horticulture/captivity.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>lon</span> <span class='kw'>=</span> <span class='st'>"decimallongitude"</span>, <span class='kw'>lat</span> <span class='kw'>=</span> <span class='st'>"decimallatitude"</span>,
  <span class='kw'>species</span> <span class='kw'>=</span> <span class='st'>"species"</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"quantile"</span>, <span class='kw'>mltpl</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>tdi</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
  <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"clean"</span>, <span class='kw'>sampling_cor</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data.frame. Containing geographical coordinates and species
names.</p></td>
    </tr>
    <tr>
      <th>lon</th>
      <td><p>a character string. The column with the longitude coordinates.
Default = &#8220;decimallongitude&#8221;.</p></td>
    </tr>
    <tr>
      <th>lat</th>
      <td><p>a character string. The column with the longitude coordinates.
Default = &#8220;decimallatitude&#8221;.</p></td>
    </tr>
    <tr>
      <th>species</th>
      <td><p>a character string. The column with the species name. Default
= &#8220;species&#8221;.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>a character string.  Defining the method for outlier
selection.  See details. One of &#8220;distance&#8221;, &#8220;quantile&#8221;,
&#8220;mad&#8221;.  Default = &#8220;quantile&#8221;.</p></td>
    </tr>
    <tr>
      <th>mltpl</th>
      <td><p>numeric. The multiplier of the interquartile range
(<code>method == 'quantile'</code>) or median absolute deviation (<code>method ==
'mad'</code>)to identify outliers. See details.  Default = 5.</p></td>
    </tr>
    <tr>
      <th>tdi</th>
      <td><p>numeric.  The minimum absolute distance (<code>method ==
'distance'</code>) of a record to all other records of a species to be identified
as outlier, in km. See details. Default = 1000.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>a character string.  Defining the output value. See value.</p></td>
    </tr>
    <tr>
      <th>sampling_cor</th>
      <td><p>logical. If TRUE, outlier detection is weightend by sampling intensity. 
See details. Defeulat = F.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical. If TRUE reports the name of the test and the number
of records flagged.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Depending on the &#8216;value&#8217; argument, either a <code>data.frame</code>
containing the records considered correct by the test (&#8220;clean&#8221;) or a
logical vector (&#8220;flagged&#8221;), with TRUE = test passed and FALSE = test failed/potentially
problematic. Default = &#8220;clean&#8221;.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The method for outlier identification depends on the <code>method</code> argument.
If &#8220;outlier&#8221;: a boxplot method is used and records are flagged as
outliers if their <em>mean</em> distance to all other records of the same
species is larger than mltpl * the interquartile range of the mean distance
of all records of this species. If &#8220;mad&#8221;: the median absolute
deviation is used. In this case a record is flagged as outlier, if the
<em>mean</em> distance to all other records of the same species is larger than
the median of the mean distance of all points plus/minus the mad of the mean
distances of all records of the species * mltpl. If &#8220;distance&#8221;:
records are flagged as outliers, if the <em>minimum</em> distance to the next
record of the species is &gt; <code>tdi</code>. For speces with records from &gt; 10000
unique locations a random sample of 1000 records is used for 
the distance matrix calculation.</p>
<p>The likelihood of occurrence records being erroroneous outliers is linked to the sampling effort
in any given location. To account for this, the sampling_cor option fetches the number of occurrence records available 
from www.gbif.org, per country as a proxy of sampling effort. The outlier test 
(the mean distance) for each records is than weighted by the log transformed 
number of records per square kilometre in this country. See for an example and further
 explanation of the outlier test.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>See <a href='https://azizka.github.io/CoordinateCleaner/'>https://azizka.github.io/CoordinateCleaner/</a> for more
details and tutorials.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Coordinates: <code><a href='cc_cap.html'>cc_cap</a></code>,
  <code><a href='cc_cen.html'>cc_cen</a></code>, <code><a href='cc_coun.html'>cc_coun</a></code>,
  <code><a href='cc_dupl.html'>cc_dupl</a></code>, <code><a href='cc_equ.html'>cc_equ</a></code>,
  <code><a href='cc_gbif.html'>cc_gbif</a></code>, <code><a href='cc_inst.html'>cc_inst</a></code>,
  <code><a href='cc_iucn.html'>cc_iucn</a></code>, <code><a href='cc_sea.html'>cc_sea</a></code>,
  <code><a href='cc_urb.html'>cc_urb</a></code>, <code><a href='cc_val.html'>cc_val</a></code>,
  <code><a href='cc_zero.html'>cc_zero</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>species</span> <span class='kw'>=</span> <span class='no'>letters</span>[<span class='fl'>1</span>:<span class='fl'>10</span>],
                <span class='kw'>decimallongitude</span> <span class='kw'>=</span> <span class='fu'>runif</span>(<span class='fl'>100</span>, -<span class='fl'>180</span>, <span class='fl'>180</span>),
                <span class='kw'>decimallatitude</span> <span class='kw'>=</span> <span class='fu'>runif</span>(<span class='fl'>100</span>, -<span class='fl'>90</span>,<span class='fl'>90</span>))

<span class='fu'>cc_outl</span>(<span class='no'>x</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 0 records.</span></div><div class='output co'>#&gt;     species decimallongitude decimallatitude
#&gt; 1         a        33.595505      -49.261924
#&gt; 2         b        67.203619       63.716334
#&gt; 3         c        84.711681      -11.590733
#&gt; 4         d       -14.002125      -37.929287
#&gt; 5         e        58.319740       24.765241
#&gt; 6         f      -179.655140      -42.382897
#&gt; 7         g       171.347591      -20.471692
#&gt; 8         h      -100.741156       21.454915
#&gt; 9         i       -69.721978        7.502055
#&gt; 10        j        83.363989       -2.730420
#&gt; 11        a      -131.937759       47.573085
#&gt; 12        b      -144.059018       82.984849
#&gt; 13        c      -118.301345      -41.294784
#&gt; 14        d        42.185372       41.508040
#&gt; 15        e        65.974791      -65.850202
#&gt; 16        f       104.606665      -81.288319
#&gt; 17        g      -103.230674       36.649273
#&gt; 18        h       105.123919      -63.501517
#&gt; 19        i        33.348387       48.447960
#&gt; 20        j        38.254897      -58.256980
#&gt; 21        a      -140.123324      -70.063380
#&gt; 22        b      -109.580890       78.901633
#&gt; 23        c      -177.454521       62.364805
#&gt; 24        d       158.713414       12.805845
#&gt; 25        e      -155.444634       32.236813
#&gt; 26        f      -130.705495      -73.921996
#&gt; 27        g       -60.185871       51.367343
#&gt; 28        h        -3.712215      -49.147659
#&gt; 29        i      -117.736366       -9.327876
#&gt; 30        j      -156.621873      -60.979025
#&gt; 31        a       -17.399884      -58.299896
#&gt; 32        b       -43.415153      -54.318938
#&gt; 33        c       147.347412      -25.629963
#&gt; 34        d      -169.219275      -57.360023
#&gt; 35        e      -109.873309       11.006075
#&gt; 36        f        64.612574       28.634942
#&gt; 37        g        89.087869       28.845614
#&gt; 38        h        53.833577      -89.567858
#&gt; 39        i      -152.070956       88.820286
#&gt; 40        j        35.875316       22.948062
#&gt; 41        a       136.443892      -87.366540
#&gt; 42        b        83.533376      -53.067921
#&gt; 43        c      -151.180889       29.353800
#&gt; 44        d       119.789932       -6.526075
#&gt; 45        e       131.294051      -25.137332
#&gt; 46        f        76.667390       34.085950
#&gt; 47        g        92.666560      -43.405058
#&gt; 48        h      -135.923790       63.216906
#&gt; 49        i      -110.268763       -3.599156
#&gt; 50        j       -66.895816        6.707950
#&gt; 51        a      -130.488126       29.095182
#&gt; 52        b       125.209037      -35.846188
#&gt; 53        c        -5.320085      -42.569727
#&gt; 54        d       -10.712619      -35.091697
#&gt; 55        e       104.776335       67.492488
#&gt; 56        f       -67.326022       39.318699
#&gt; 57        g       -68.844775      -16.754455
#&gt; 58        h       -55.744079      -86.515295
#&gt; 59        i       118.239593      -80.967535
#&gt; 60        j       -81.361621       36.405186
#&gt; 61        a       -24.899009      -78.053351
#&gt; 62        b       -29.916778      -83.496174
#&gt; 63        c      -131.647608      -86.372335
#&gt; 64        d        67.082904      -22.899403
#&gt; 65        e      -118.051878      -49.380227
#&gt; 66        f       152.457640       -1.454742
#&gt; 67        g        40.947693       -9.603872
#&gt; 68        h       -66.373399       34.236882
#&gt; 69        i       111.503913       61.693196
#&gt; 70        j       144.854676      -22.349940
#&gt; 71        a      -134.892792       87.280144
#&gt; 72        b        23.600590       81.436739
#&gt; 73        c      -134.049202       88.181732
#&gt; 74        d        45.935142      -10.236896
#&gt; 75        e      -152.883377      -62.322507
#&gt; 76        f       -77.237523       80.050918
#&gt; 77        g       -68.183126        3.503954
#&gt; 78        h      -127.178078       -7.985771
#&gt; 79        i       107.917385      -50.383764
#&gt; 80        j      -118.081411      -64.947171
#&gt; 81        a       102.846172      -51.091581
#&gt; 82        b       -10.787125      -16.977839
#&gt; 83        c       -24.135218      -47.927774
#&gt; 84        d        26.831830      -85.488055
#&gt; 85        e        82.789180       45.421553
#&gt; 86        f       141.907373       41.773058
#&gt; 87        g      -100.689707      -16.360781
#&gt; 88        h       -75.025282       23.554405
#&gt; 89        i       112.643550      -78.219903
#&gt; 90        j      -164.303161      -63.235413
#&gt; 91        a         1.897799      -39.653682
#&gt; 92        b       -93.003883       63.118226
#&gt; 93        c        32.091271      -86.122660
#&gt; 94        d       169.610605      -44.490622
#&gt; 95        e       -96.220439       28.208070
#&gt; 96        f       132.270486       52.046894
#&gt; 97        g      -140.125773       37.592217
#&gt; 98        h       108.537041      -78.373261
#&gt; 99        i        56.852804        2.036042
#&gt; 100       j        54.739547      -53.832897</div><div class='input'><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"quantile"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"flagged"</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 0 records.</span></div><div class='output co'>#&gt;   [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [61] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [76] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [91] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</div><div class='input'><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"distance"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"flagged"</span>, <span class='kw'>tdi</span> <span class='kw'>=</span> <span class='fl'>10000</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 0 records.</span></div><div class='output co'>#&gt;   [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [61] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [76] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [91] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</div><div class='input'><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"distance"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"flagged"</span>, <span class='kw'>tdi</span> <span class='kw'>=</span> <span class='fl'>1000</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 88 records.</span></div><div class='output co'>#&gt;   [1] FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE
#&gt;  [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE
#&gt;  [25] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [37] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [49] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE  TRUE FALSE
#&gt;  [61] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [85] FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE  TRUE FALSE FALSE FALSE
#&gt;  [97] FALSE FALSE FALSE FALSE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alexander Zizka.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

