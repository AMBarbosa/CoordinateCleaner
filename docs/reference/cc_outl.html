<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Flag Geographic Outliers in Species Distributions — cc_outl • CoordinateCleaner</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Flag Geographic Outliers in Species Distributions — cc_outl" />

<meta property="og:description" content="Flags records that are outliers in geographic space according to the method
defined via the method argument. Geographic outliers often represent
erroneous coordinates, for example due to data entry errors, imprecise
geo-references, individuals in horticulture/captivity." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CoordinateCleaner</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Cleaning_GBIF_data_with_CoordinateCleaner.html">Tutorial - Cleaning GBIF data for the use in biogeography</a>
    </li>
    <li>
      <a href="../articles/Cleaning_PBDB_fossils_with_CoordinateCleaner.html">Tutorial - Cleaning fossil data for the use in biogeography and palaeontology</a>
    </li>
    <li>
      <a href="../articles/comparison_other_software.html">Comparison of CoordinateCleaner to other tools</a>
    </li>
    <li>
      <a href="../articles/qs_clean_coordinates.html">Quick start - Problematic records</a>
    </li>
    <li>
      <a href="../articles/qs_clean_dataset.html">Quick start - Problematic datasets</a>
    </li>
    <li>
      <a href="../articles/qs_clean_fossils.html">Quick start - Problematic fossils</a>
    </li>
    <li>
      <a href="../articles/qs_how_to_run.html">Quick start - How to run CoordinateCleaner</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Flag Geographic Outliers in Species Distributions</h1>
    
    <div class="hidden name"><code>cc_outl.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Flags records that are outliers in geographic space according to the method
defined via the <code>method</code> argument. Geographic outliers often represent
erroneous coordinates, for example due to data entry errors, imprecise
geo-references, individuals in horticulture/captivity.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>lon</span> <span class='kw'>=</span> <span class='st'>"decimallongitude"</span>, <span class='kw'>lat</span> <span class='kw'>=</span> <span class='st'>"decimallatitude"</span>,
  <span class='kw'>species</span> <span class='kw'>=</span> <span class='st'>"species"</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"quantile"</span>, <span class='kw'>mltpl</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>tdi</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
  <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"clean"</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data.frame. Containing geographical coordinates and species
names.</p></td>
    </tr>
    <tr>
      <th>lon</th>
      <td><p>a character string. The column with the longitude coordinates.
Default = &#8220;decimallongitude&#8221;.</p></td>
    </tr>
    <tr>
      <th>lat</th>
      <td><p>a character string. The column with the longitude coordinates.
Default = &#8220;decimallatitude&#8221;.</p></td>
    </tr>
    <tr>
      <th>species</th>
      <td><p>a character string. The column with the species name. Default
= &#8220;species&#8221;.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>a character string.  Defining the method for outlier
selection.  See details. One of &#8220;distance&#8221;, &#8220;quantile&#8221;,
&#8220;mad&#8221;.  Default = &#8220;quantile&#8221;.</p></td>
    </tr>
    <tr>
      <th>mltpl</th>
      <td><p>numeric. The multiplier of the interquartile range
(<code>method == 'quantile'</code>) or median absolute deviation (<code>method ==
'mad'</code>)to identify outliers. See details.  Default = 3.</p></td>
    </tr>
    <tr>
      <th>tdi</th>
      <td><p>numeric.  The minimum absolute distance (<code>method ==
'distance'</code>) of a record to all other records of a species to be identified
as outlier, in km. See details. Default = 1000.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>a character string.  Defining the output value. See value.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical. If TRUE reports the name of the test and the number
of records flagged.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Depending on the &#8216;value&#8217; argument, either a <code>data.frame</code>
containing the records considered correct by the test (&#8220;clean&#8221;) or a
logical vector (&#8220;flagged&#8221;), with TRUE = test passed and FALSE = test failed/potentially
problematic. Default = &#8220;clean&#8221;.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The method for outlier identification depends on the <code>method</code> argument.
If &#8220;outlier&#8221;: a boxplot method is used and records are flagged as
outliers if their <em>mean</em> distance to all other records of the same
species is larger than mltpl * the interquartile range of the mean distance
of all records of this species. If &#8220;mad&#8221;: the median absolute
deviation is used. In this case a record is flagged as outlier, if the
<em>mean</em> distance to all other records of the same species is larger than
the median of the mean distance of all points plus/minus the mad of the mean
distances of all records of the species * mltpl. If &#8220;distance&#8221;:
records are flagged as outliers, if the <em>minimum</em> distance to the next
record of the species is &gt; <code>tdi</code>.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>See <a href='https://github.com/azizka/CoordinateCleaner/wiki'>https://github.com/azizka/CoordinateCleaner/wiki</a> for more
details and tutorials.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>species</span> <span class='kw'>=</span> <span class='no'>letters</span>[<span class='fl'>1</span>:<span class='fl'>10</span>],
                <span class='kw'>decimallongitude</span> <span class='kw'>=</span> <span class='fu'>runif</span>(<span class='fl'>100</span>, -<span class='fl'>180</span>, <span class='fl'>180</span>),
                <span class='kw'>decimallatitude</span> <span class='kw'>=</span> <span class='fu'>runif</span>(<span class='fl'>100</span>, -<span class='fl'>90</span>,<span class='fl'>90</span>))

<span class='fu'>cc_outl</span>(<span class='no'>x</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 2 records.</span></div><div class='output co'>#&gt;     species decimallongitude decimallatitude
#&gt; 1         a       -94.183290     -51.0073273
#&gt; 2         b       -31.795210     -68.3925429
#&gt; 3         c        88.585803     -59.3525413
#&gt; 4         d        80.442199       3.8751993
#&gt; 6         f        -9.366995      69.8170535
#&gt; 7         g        28.245974      24.5603874
#&gt; 8         h       -93.026260     -30.7115547
#&gt; 9         i      -138.823682      18.4000342
#&gt; 10        j       -72.595932      48.9890761
#&gt; 11        a        -5.716982     -52.1756473
#&gt; 12        b        24.266275      15.1755059
#&gt; 13        c        91.423119       7.5736460
#&gt; 14        d        16.353085     -73.3686043
#&gt; 15        e        93.484066     -23.5186515
#&gt; 16        f      -103.331713      81.4372962
#&gt; 17        g       122.135409      80.9440634
#&gt; 18        h       -33.589060      -9.0401721
#&gt; 19        i       134.546328     -43.2327162
#&gt; 20        j       137.576354     -86.5968894
#&gt; 21        a      -141.231828      39.8529086
#&gt; 22        b        26.835974      81.5057369
#&gt; 23        c       178.572017     -10.7598053
#&gt; 24        d       126.199236       0.7222283
#&gt; 25        e       -22.444180     -82.1597403
#&gt; 26        f       -62.485227      76.0454020
#&gt; 27        g       -59.051211      76.2821201
#&gt; 28        h       -93.861426      19.0165885
#&gt; 29        i       -28.306395     -89.2652434
#&gt; 30        j         4.369259      28.2341586
#&gt; 31        a      -113.239308     -62.8327890
#&gt; 32        b       -62.495812     -54.1510800
#&gt; 33        c       114.146511     -46.8651007
#&gt; 34        d        89.545679      29.0833141
#&gt; 35        e        11.427073     -46.4780121
#&gt; 36        f       166.165693     -77.1210471
#&gt; 37        g      -142.543306      36.8409470
#&gt; 38        h        85.364520     -33.2285562
#&gt; 39        i       125.092793     -22.3424649
#&gt; 40        j        51.745951      56.7175935
#&gt; 41        a       -96.315409     -53.8992060
#&gt; 42        b       149.842644     -35.6525664
#&gt; 43        c       -27.144880     -74.2103564
#&gt; 44        d      -110.540338     -57.0023769
#&gt; 45        e        72.558121     -52.7756625
#&gt; 46        f       177.329056      63.8927098
#&gt; 47        g        75.208503     -42.6762186
#&gt; 48        h         6.294657      80.1601694
#&gt; 49        i        75.143537      52.6923846
#&gt; 50        j       -44.949428      59.6847406
#&gt; 51        a       -88.281444      21.4159005
#&gt; 52        b       178.708657     -10.1279469
#&gt; 53        c         8.242330      83.6326104
#&gt; 54        d        77.691390     -60.8042333
#&gt; 55        e      -179.102726     -56.5823177
#&gt; 56        f       -74.531242      20.3582555
#&gt; 57        g      -114.906240      -3.3327939
#&gt; 58        h       -33.266199     -18.6951784
#&gt; 59        i      -101.881480     -32.6238466
#&gt; 60        j      -154.316639      60.9075016
#&gt; 61        a       -88.807831     -36.1433654
#&gt; 62        b        54.892628      20.8911305
#&gt; 63        c        84.399878      -6.8213096
#&gt; 64        d       114.304732      79.0570721
#&gt; 65        e       -69.843478     -88.8675504
#&gt; 66        f       138.689125     -27.1030527
#&gt; 67        g        38.361187      11.9288507
#&gt; 68        h       137.166901       5.2122714
#&gt; 69        i        64.771428      24.6627719
#&gt; 70        j      -128.540282     -26.8567417
#&gt; 71        a        95.567609      76.3508155
#&gt; 72        b        45.707987      -4.6725799
#&gt; 73        c        82.921846      50.0641411
#&gt; 74        d       -27.466412      53.7725764
#&gt; 76        f        96.857293      73.7718939
#&gt; 77        g        31.444804      -9.8032039
#&gt; 78        h       143.484392     -37.8793209
#&gt; 79        i       133.316834     -35.4040675
#&gt; 80        j       -36.249755      75.4243826
#&gt; 81        a       167.442880      78.4282311
#&gt; 82        b        -1.443224      30.8966988
#&gt; 83        c       -12.024894     -23.1714062
#&gt; 84        d      -141.211969      12.0836585
#&gt; 85        e       149.147298      -3.8522805
#&gt; 86        f      -128.230758      12.1947812
#&gt; 87        g       -84.532611     -38.4230088
#&gt; 88        h      -126.553303      46.7278431
#&gt; 89        i       -30.870474     -48.8761608
#&gt; 90        j      -140.778118     -13.2290292
#&gt; 91        a       -91.051939      -7.8147489
#&gt; 92        b        32.631520      37.7832166
#&gt; 93        c       -61.823773     -38.2577439
#&gt; 94        d        83.869388      49.1508473
#&gt; 95        e        82.045881      13.4212114
#&gt; 96        f        16.460432     -86.0767627
#&gt; 97        g        84.148674      49.1447665
#&gt; 98        h       156.009015     -79.3567920
#&gt; 99        i       -92.378666     -85.0233059
#&gt; 100       j       -78.134740      43.3523869</div><div class='input'><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"quantile"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"flagged"</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 2 records.</span></div><div class='output co'>#&gt;   [1]  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [13]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [25]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [37]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [49]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [61]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [73]  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [85]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
#&gt;  [97]  TRUE  TRUE  TRUE  TRUE</div><div class='input'><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"distance"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"flagged"</span>, <span class='kw'>tdi</span> <span class='kw'>=</span> <span class='fl'>10000</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 0 records.</span></div><div class='output co'>#&gt;   [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [61] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [76] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
#&gt;  [91] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</div><div class='input'><span class='fu'>cc_outl</span>(<span class='no'>x</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"distance"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"flagged"</span>, <span class='kw'>tdi</span> <span class='kw'>=</span> <span class='fl'>1000</span>)</div><div class='output co'>#&gt; <span class='message'>Testing geographic outliers</span></div><div class='output co'>#&gt; <span class='message'>Flagged 90 records.</span></div><div class='output co'>#&gt;   [1]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE
#&gt;  [13] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE
#&gt;  [25]  TRUE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [37] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [61] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [73] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE
#&gt;  [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
#&gt;  [97] FALSE FALSE  TRUE  TRUE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alexander Zizka.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

