<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identifying geographic outliers • CoordinateCleaner</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Identifying geographic outliers">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CoordinateCleaner</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Cleaning_GBIF_data_with_CoordinateCleaner.html">Tutorial - Cleaning GBIF data for the use in biogeography</a>
    </li>
    <li>
      <a href="../articles/Cleaning_PBDB_fossils_with_CoordinateCleaner.html">Tutorial - Cleaning fossil data for the use in biogeography and palaeontology</a>
    </li>
    <li>
      <a href="../articles/comparison_other_software.html">Comparison of CoordinateCleaner to other tools</a>
    </li>
    <li>
      <a href="../articles/qs_clean_coordinates.html">Quick start - Problematic records</a>
    </li>
    <li>
      <a href="../articles/qs_clean_dataset.html">Quick start - Problematic datasets</a>
    </li>
    <li>
      <a href="../articles/qs_clean_fossils.html">Quick start - Problematic fossils</a>
    </li>
    <li>
      <a href="../articles/qs_how_to_run.html">Quick start - How to run CoordinateCleaner</a>
    </li>
    <li>
      <a href="../articles/t_geographic_outliers.html">Identifying geographic outliers</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Identifying geographic outliers</h1>
                        <h4 class="author">Alex Zizka</h4>
            
            <h4 class="date">11 August 2018</h4>
      
      
      <div class="hidden name"><code>t_geographic_outliers.Rmd</code></div>

    </div>

    
    
<div id="the-problem-of-geographic-outliers" class="section level1">
<h1 class="hasAnchor">
<a href="#the-problem-of-geographic-outliers" class="anchor"></a>The problem of geographic outliers</h1>
<p>Large geographic distances of an occurrence record to all other recordings of a taxon–i.e. geographic outliers–often are represent anthropogenic historic contingencies or indicated imprecise or erroneous geo-referencing, for instance due to switched latitude longitude or isolated observations from cultivated individuals. For many analyses such records are undesirable and need to be removed. However, the identification of such records is complicated because, since there are also natural examples of species with disjunct or satellite distributions (for instance on oceanic islands) and because outlier records might simply be due to uneven or gappy sampling. Furthermore it is difficult to define where a species range ends and when a record should be considered and outlier. Environmental factors can be used to inform a decision on geographic outliers, however, if records are used for environmental based distribution modelling after cleaning the is a high risk of circularity.</p>
<p><em>CoordinateCleaner</em> implements a test (<code>cc_outl</code>) to identify outliers based on geographic position by using interquantile range outlier detection (<span class="math inline">\(x &gt; IQR(x) + Q_{75} * mltpl\)</span>) on a distance matrix of all records of a species. We will use distribution data of the Eurasian red squirrel and the European lynx as example to explore outlier detection in CordinateCleaner.</p>
</div>
<div id="the-case-of-the-european-lynx" class="section level1">
<h1 class="hasAnchor">
<a href="#the-case-of-the-european-lynx" class="anchor"></a>1. The case of the European lynx</h1>
<p>The Eurasian lynx (<em>Lynx lynx</em>) is a wide-spread Eurasian carnivore species. Eurasia. The global Biodiversity Information Facility (www.gbif.org) comprises more than 214729 records for this species, the vast majority in Europe, few records from Asia and some records from North America and South America. While the European and Asian records correspond to the recent natural range of the species (compare for instance <a href="http://www.iucnredlist.org/details/12519/0">here</a>), the American records are at least doubtful and might correspond to swapped coordinates, individuals in captivity or misidentification of the Canada lynx (<em>Lynx canadensis</em>). The species is an extreme case for outlier detection, because it includes potential true outliers (in the Americas), but also very isolated but potentially valid records (in northern China). We’ll see how <code>cc_outl</code> can help to improve the data set, and show an alternative to outlier detection for extreme cases. Since this is a large dataset, the test will automatically sub-sampling for the calculation of the distance matrix.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## #libraries
## library(CoordinateCleaner)
## library(rgbif)
## library(tidyverse)
## library(ggplot2)
## library(sp)
## 
## # Load data from GBIF
## lnx &lt;- rgbif::occ_search(scientificName = "Lynx lynx", limit = 200000)%&gt;%
##   select(species = specieskey, decimallongitude, decimallatitude, countrycode,
##          hasCoordinate = T)
## 
## # Run basic coordinate cleaning
flags &lt;-<span class="st"> </span><span class="kw"><a href="../reference/clean_coordinates.html">clean_coordinates</a></span>(<span class="dt">x =</span> lnx, <span class="dt">tests =</span> <span class="kw">c</span>(<span class="st">"capitals"</span>,
  <span class="st">"centroids"</span>, <span class="st">"equal"</span>, <span class="st">"gbif"</span>, <span class="st">"institutions"</span>,<span class="st">"seas"</span>,<span class="st">"zeros"</span>))
## OGR data source with driver: ESRI Shapefile 
## Source: "C:\Users\alexander.zizka\AppData\Local\Temp\RtmpOQJXHq", layer: "ne_50m_land"
## with 1420 features
## It has 3 fields
## Integer64 fields read as strings:  scalerank

lnx &lt;-<span class="st"> </span>lnx[flags<span class="op">$</span>summary,]

<span class="co"># Default outlier detection</span>
outl &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cc_outl.html">cc_outl</a></span>(lnx, <span class="dt">value =</span> <span class="st">"flagged"</span>)

plo &lt;-<span class="st"> </span><span class="kw">data.frame</span>(lnx, <span class="dt">outlier =</span>  <span class="kw">as.factor</span>(<span class="op">!</span>outl))

<span class="co"># visualize occurrence records</span>
<span class="kw">ggplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">borders</span>(<span class="dt">fill =</span> <span class="st">"grey60"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> plo, 
             <span class="kw">aes</span>(<span class="dt">x =</span> decimallongitude, <span class="dt">y =</span> decimallatitude, <span class="dt">col =</span> outlier))<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_viridis</span>(<span class="dt">discrete =</span> T, <span class="dt">name =</span> <span class="st">"Flagged outlier"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">coord_fixed</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>)</code></pre></div>
<p><img src="t_geographic_outliers_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>The default settings of the outlier test flagged 18 outliers. This is only a small number of records. A comparison with the natural range of the species shows that the American records were all flag correctly as outliers. However it also reveals some potential issues, since few isolated records in Asia where also flagged as potential outliers, although they are well within the natural range of the species and likely are valid records. There isolated position is probably rather due to low sampling and data availability across Asia. Some tweaking seems necessary to get the best representation of the distribution of the Eurasian lynx using. <code>CoordinateCleaner</code> offers three options to improve the results 1) change the sensitivity of cc_outl, 2) correct for sampling intensity and 3) drop the outlier test and use natural ranges via <code>cc_iucn</code> instead.</p>
<div id="changing-test-sensititvity" class="section level2">
<h2 class="hasAnchor">
<a href="#changing-test-sensititvity" class="anchor"></a>1) Changing test sensititvity</h2>
<p>We can make the outlier detection more conservative using the <code>mltpl</code> argument of <code>cc_outl</code>. We’ll double mltpl to 10, meaning that the mean distance of any records to all other records (or in this case a sub sample of 1000 records) must be more than 10 times the interquantile range of the mean distance of all points</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">outl_<span class="dv">10</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cc_outl.html">cc_outl</a></span>(lnx, <span class="dt">value =</span> <span class="st">"flagged"</span>, <span class="dt">mltpl =</span> <span class="dv">10</span>)

plo &lt;-<span class="st"> </span><span class="kw">data.frame</span>(lnx, <span class="dt">outlier =</span>  <span class="kw">as.factor</span>(<span class="op">!</span>outl_<span class="dv">10</span>))

<span class="co"># visualize occurrence records</span>
<span class="kw">ggplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">borders</span>(<span class="dt">fill =</span> <span class="st">"grey60"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> plo, 
             <span class="kw">aes</span>(<span class="dt">x =</span> decimallongitude, <span class="dt">y =</span> decimallatitude, <span class="dt">col =</span> outlier))<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_viridis</span>(<span class="dt">discrete =</span> T, <span class="dt">name =</span> <span class="st">"Flagged outlier"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">coord_fixed</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>)</code></pre></div>
<p><img src="t_geographic_outliers_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>This further improved the results and now only the two very isolated records in eastern Asia remain as false flags.</p>
</div>
<div id="correcting-for-sampling-intensity" class="section level2">
<h2 class="hasAnchor">
<a href="#correcting-for-sampling-intensity" class="anchor"></a>1.2 Correcting for sampling intensity</h2>
<p>An alternative to changing test sensitivity is to account for the general sampling situation per country for the outlier test, with the assumption, that geographically isolated records in well sampled countries are more likely to be true outliers, and geographically isolated records in badly sampled countries are less likely to be true outliers. The <code>sampling_cor</code> argument of <code>cc_outl</code>, uses the total number of occurrence records available from the Global Biodiversity Information Facility (GBIF) as a proxy for sampling per country, and weights the mean distance to other to other records of each records by the logarithmic, area-normalized number of records in GBIF. Here we will use <code>sampling_cor</code> with a less sensitive <code>mltpl</code> value. This may take some time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Run outlier test</span>
outl_samp&lt;-<span class="st"> </span><span class="kw"><a href="../reference/cc_outl.html">cc_outl</a></span>(lnx, <span class="dt">value =</span> <span class="st">"flagged"</span>, <span class="dt">mltpl =</span> <span class="dv">3</span>, <span class="dt">sampling_cor =</span> T)

<span class="co"># visualize occurrence records</span>
plo &lt;-<span class="st"> </span><span class="kw">data.frame</span>(lnx, <span class="dt">outlier =</span>  <span class="kw">as.factor</span>(<span class="op">!</span>outl_samp))

<span class="kw">ggplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">borders</span>(<span class="dt">fill =</span> <span class="st">"grey60"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> plo, 
             <span class="kw">aes</span>(<span class="dt">x =</span> decimallongitude, <span class="dt">y =</span> decimallatitude, <span class="dt">col =</span> outlier))<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_viridis</span>(<span class="dt">discrete =</span> T, <span class="dt">name =</span> <span class="st">"Flagged outlier"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">coord_fixed</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>)</code></pre></div>
<p><img src="t_geographic_outliers_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
</div>
<div id="natural-ranges-instead-of-outlier-detection" class="section level2">
<h2 class="hasAnchor">
<a href="#natural-ranges-instead-of-outlier-detection" class="anchor"></a>1.3 Natural ranges instead of outlier detection</h2>
<p>Cleaning geographic species occurrence data from outliers must be done carefully. The example of the Eurasian lynx showcased potential empirical problems (albeit in an extreme case) of outlier testing, mostly cause by biased sampling. In addition, it is also conceptually difficult to define outliers, since species can have disjunct distributions, the borders of species ranges are fuzzy, and single individuals might deviated drastically from the average species range. So, if for any analyses it is essential that the entire range of species is included, and records flagged by <code>cc_outl</code> cannot be verified, it is advisable to skip oilier testing and use species reference ranges to identify coordinate errors. Such reference ranges are for instance available for download for all species of amphibians, birds, mammals and reptiles from <a href="http://www.iucnredlist.org/technical-documents/spatial-data" class="uri">http://www.iucnredlist.org/technical-documents/spatial-data</a>. These are very detailed and <em>CoordinateCleaner</em> implements a straight forward way to use these, or any other, ranges to flag records in the <code>cc_iucn</code> function. Since downloading the IUCN shapes requires log-in, and for demonstration, we will use a self-build range for the lynx natural range. This is only a rough approximation based on euclidean geometry, but will suffice for the purpose of cleaning this data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create custom range polygon</span>
## define the polygon shape
range &lt;-<span class="st"> </span><span class="kw">Polygon</span>(<span class="kw">cbind</span>(<span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>, <span class="op">-</span><span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">170</span>, <span class="dv">138</span>, <span class="dv">83</span>, <span class="dv">36</span>, <span class="dv">14</span>, <span class="op">-</span><span class="dv">10</span>), 
                       <span class="kw">c</span>(<span class="dv">35</span>, <span class="dv">67</span>, <span class="dv">80</span>, <span class="dv">69</span>, <span class="dv">32</span>, <span class="dv">21</span>, <span class="dv">25</span>, <span class="dv">35</span>, <span class="dv">35</span>)))
range &lt;-<span class="st"> </span><span class="kw">Polygons</span>(<span class="kw">list</span>(range), <span class="dt">ID =</span> <span class="kw">c</span>(<span class="st">"A"</span>))

## define projection
wgs84 &lt;-<span class="st"> "+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"</span>
range &lt;-<span class="st"> </span><span class="kw">SpatialPolygons</span>(<span class="kw">list</span>(range), <span class="dt">proj4string =</span> <span class="kw">CRS</span>(wgs84))

<span class="co"># creat dataset species = species name, in this case the GBIF ID</span>
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">species =</span> <span class="kw">c</span>(<span class="st">"2435240"</span>), <span class="dt">row.names =</span> <span class="kw">c</span>(<span class="st">"A"</span>))
nat_range &lt;-<span class="st"> </span><span class="kw">SpatialPolygonsDataFrame</span>(range, <span class="dt">data =</span> <span class="kw">as.data.frame</span>(df))

<span class="co"># run natural range test</span>
rang &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cc_iucn.html">cc_iucn</a></span>(<span class="dt">x =</span> lnx, <span class="dt">range =</span> nat_range, <span class="dt">value =</span> <span class="st">"flagged"</span>)

<span class="co"># plot results</span>
plo &lt;-<span class="st"> </span><span class="kw">data.frame</span>(lnx, <span class="dt">outlier =</span>  <span class="kw">as.factor</span>(<span class="op">!</span>rang))

nat_range &lt;-<span class="st"> </span><span class="kw">fortify</span>(nat_range)

<span class="kw">ggplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">borders</span>(<span class="dt">fill =</span> <span class="st">"grey60"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">data =</span> nat_range, <span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat), <span class="dt">fill =</span> <span class="st">"green"</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>, <span class="dt">col =</span> <span class="st">"grey50"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> plo, 
             <span class="kw">aes</span>(<span class="dt">x =</span> decimallongitude, <span class="dt">y =</span> decimallatitude, <span class="dt">col =</span> outlier))<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_viridis</span>(<span class="dt">discrete =</span> T, <span class="dt">name =</span> <span class="st">"Flagged outlier"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">coord_fixed</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>)</code></pre></div>
<p><img src="t_geographic_outliers_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<!-- # Example 2 - The red squirrel -->
<!-- The red squirrel (*Sciurus vulgaris*) is natively distributed across Eurasia. The global Biodiversity Information Facility (www.gbif.org) comprises more than 214729 records for this species, the vast majority in Europe, few probably records from Asia, some records from North America and one from South Africa. While the European and Asian records correspond with the natural distribution of the species, the North American and especially the South African records are at least doubtful. This dataset is less extreme than the lynx data and we'll see how `cc_outl` can help to improve the data set. -->
<!-- ## Geographic outlier detection -->
<!-- We'll first run the standard *CoordinateCleaner* cleaning and then perform a detailed outlier test. -->
<!-- ```{r, warning = F, message = F, collapse = T} -->
<!-- #libraries -->
<!-- library(CoordinateCleaner) -->
<!-- library(rgbif) -->
<!-- library(tidyverse) -->
<!-- library(ggplot2) -->
<!-- library(sp) -->
<!-- # Load example data -->
<!-- squ <- rgbif::occ_search(scientificName = "Sciurus vulgaris", limit = 200000)%>% -->
<!--  select(species = specieskey, decimallongitude, decimallatitude, countrycode, -->
<!--        hasCoordinate = T) -->
<!-- # Run basic coordinate cleaning -->
<!-- flags <- clean_coordinates(x = squ, tests = c("capitals", -->
<!--   "centroids", "equal", "gbif", "institutions","seas","zeros")) -->
<!-- squ <- squ[flags$summary,] -->
<!-- # visualize occurrence records -->
<!-- plot(squ[c("decimallongitude", "decimallatitude")], cex = 0.5) -->
<!-- ggplot()+ -->
<!--   borders(fill = "grey60", -->
<!--           xlim = range(squ["decimallongitude"]),  -->
<!--           ylim = range(squ["decimallatitude"]))+ -->
<!--   geom_point(data = squ, aes(x = decimallongitude, y = decimallatitude))+ -->
<!--   coord_fixed()+ -->
<!--   theme_bw() -->
<!-- # Outlier detection -->
<!-- outl <- cc_outl(squ, value = "flagged") -->
<!-- ``` -->
<!-- The default settings of the outlier test are conservative in flagging records and in this case only flagged 23962 outliers. Since this is a very large dataset, the test uses a sub-sampling for the calculation of the distance matrix. -->
<!-- ## Changing test sensititvity -->
<!-- You can increase the sensitivity using the `mltpl` argument. -->
<!-- ```{r, warning = F, message = F, collapse = T} -->
<!-- outl_30 <- cc_outl(squ, value = "flagged", mltpl = 30) -->
<!-- outl_03 <- cc_outl(squ, value = "flagged", mltpl = 0.3) -->
<!-- ``` -->
<!-- ## Correcting for uneven sampling -->
<!-- Sampling intensity o -->
<!-- #visualize -->
<!-- ```{r, warning = F, message = F, collapse = T} -->
<!-- plo <- bind_rows(Raw = squ, -->
<!--                  Default_thresh = squ[!outl,], -->
<!--                  Thresh_03 = squ[!outl03,], -->
<!--                  Thres_30 = squ[!outl30,], -->
<!--                  Bias_correction = squ[!samp,], -->
<!--                  .id) -->
<!-- plo <- bind_rows(Raw = squ, -->
<!--                  Default_thresh = squ[!outl,], -->
<!--                  .id = "Test") -->
<!-- ggplot()+ -->
<!--   borders(fill = "grey60", -->
<!--           xlim = range(squ["decimallongitude"]),  -->
<!--           ylim = range(squ["decimallatitude"]))+ -->
<!--   geom_point(data = plo, aes(x = decimallongitude, y = decimallatitude))+ -->
<!--   facet_wrap(~Test)+ -->
<!--   coord_fixed()+ -->
<!--   theme_bw() -->
<!-- ``` -->
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#the-problem-of-geographic-outliers">The problem of geographic outliers</a></li>
      <li>
<a href="#the-case-of-the-european-lynx">1. The case of the European lynx</a><ul class="nav nav-pills nav-stacked">
<li><a href="#changing-test-sensititvity">1) Changing test sensititvity</a></li>
      <li><a href="#correcting-for-sampling-intensity">1.2 Correcting for sampling intensity</a></li>
      <li><a href="#natural-ranges-instead-of-outlier-detection">1.3 Natural ranges instead of outlier detection</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Alexander Zizka.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
